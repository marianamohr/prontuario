import{u as x,r as a,j as e,T as n,L as h,P as S,B as b,$ as j}from"./index-DJlnvih6.js";import{P as p}from"./PageContainer-DrcGApUY.js";import{T as v}from"./TextField-CttgYVuf.js";import{B as E}from"./Button-6qkZ5rwi.js";import"./Select-cu5oWY5i.js";function k(){const{user:t}=x(),[o,l]=a.useState(""),[r,c]=a.useState(""),[m,u]=a.useState(!1),[d,s]=a.useState("");a.useEffect(()=>{t==null||t.role},[t==null?void 0:t.role]);const f=async i=>{if(i.preventDefault(),!(!o.trim()||!r.trim())){s(""),u(!0);try{await j(o.trim(),r.trim()),s("Convite enviado por e-mail."),l(""),c("")}catch{s(""),alert("Falha ao enviar convite.")}finally{u(!1)}}};return(t==null?void 0:t.role)!=="SUPER_ADMIN"?e.jsx(p,{children:e.jsx(n,{children:"Acesso negado. Apenas super admin."})}):e.jsxs(p,{children:[e.jsx(n,{component:h,to:"/backoffice",sx:{display:"block",mb:2,color:"primary.main",textDecoration:"none",fontSize:14},children:"â† Voltar ao backoffice"}),e.jsx(n,{variant:"h4",sx:{mb:2},children:"Enviar convite para profissional"}),e.jsx(S,{variant:"outlined",sx:{p:2,maxWidth:420},children:e.jsxs(b,{component:"form",onSubmit:f,children:[e.jsx(v,{label:"E-mail",type:"email",fullWidth:!0,required:!0,placeholder:"email@exemplo.com",value:o,onChange:i=>l(i.target.value),sx:{mb:1.5}}),e.jsx(v,{label:"Nome completo",fullWidth:!0,required:!0,placeholder:"Nome do profissional",value:r,onChange:i=>c(i.target.value),sx:{mb:1.5}}),d&&e.jsx(n,{color:"success.main",sx:{mb:1,fontSize:14},children:d}),e.jsx(E,{type:"submit",variant:"contained",disabled:m,children:m?"Enviando...":"Enviar convite"})]})})]})}export{k as BackofficeInvite};
